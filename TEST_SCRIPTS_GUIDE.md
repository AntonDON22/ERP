# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–æ–≤—ã–º —Å–∫—Ä–∏–ø—Ç–∞–º ERP —Å–∏—Å—Ç–µ–º—ã

## –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: –í package.json –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª —Å–∫—Ä–∏–ø—Ç `npm test`, —á—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è package.json.

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
./run-tests.sh
```
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ 10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–µ—Å—Ç–æ–≤
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞
- –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 2. –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
./test-quick.sh [–∫–∞—Ç–µ–≥–æ—Ä–∏—è]
```

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
- `unit` - Unit —Ç–µ—Å—Ç—ã (services, utils, middleware)
- `integration` - Integration —Ç–µ—Å—Ç—ã
- `cache` - –¢–µ—Å—Ç—ã –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- `validation` - –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `critical` - –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `all` - –í—Å–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ vitest

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
./test-quick.sh unit         # –ë—ã—Å—Ç—Ä—ã–µ unit —Ç–µ—Å—Ç—ã
./test-quick.sh critical     # –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ
./test-quick.sh all          # –í—Å–µ —Ç–µ—Å—Ç—ã
```

### 3. –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã vitest
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
NODE_ENV=test npx vitest run

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
NODE_ENV=test npx vitest run tests/services

# Watch —Ä–µ–∂–∏–º
NODE_ENV=test npx vitest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
NODE_ENV=test npx vitest run --coverage
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ (22 —Ñ–∞–π–ª–∞, 10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π):

1. **Services** - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
   - inventoryService.test.ts
   - cacheService.test.ts
   - documentStatusService.test.ts
   - dataCleanerService.test.ts

2. **Integration** - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–µ—Å—Ç—ã
   - system.test.ts
   - api.test.ts
   - apiValidation.test.ts
   - cacheIntegration.test.ts

3. **Utils** - –£—Ç–∏–ª–∏—Ç—ã
   - timeUtils.test.ts

4. **Middleware** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - validation.test.ts
   - cacheMiddleware.test.ts

5. **Validation** - –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
   - schema-validation.test.ts
   - quantity-validation.test.ts
   - migration-complete.test.ts

6. **zFields** - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
   - zFields.test.ts
   - zFieldsValidation.test.ts

7. **Cache** - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - cacheService.test.ts
   - cacheMiddleware.test.ts
   - cacheIntegration.test.ts

8. **Performance** - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - api-response-time.test.ts
   - ui-lighthouse-report.ts
   - table-render-time.test.ts

9. **Adaptive** - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
   - runSystemTest.sh

10. **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ**
    - logs.test.ts
    - api-routing.test.ts

## –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- **Unit —Ç–µ—Å—Ç—ã**: >90%
- **Integration —Ç–µ—Å—Ç—ã**: >80%
- **Critical paths**: 100%

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
‚úÖ DocumentStatusService  
‚úÖ DataCleanerService  
‚úÖ TimeUtils  
‚úÖ Validation Middleware  
‚úÖ CacheService  
‚úÖ CacheMiddleware  
‚úÖ InventoryService  
‚úÖ API Integration  

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ò–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤:
- **Test Files**: 1 failed | 0 passed (3)
- **Tests**: 2 failed | 10 passed (19)
- **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞**: ~84%

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ
2. –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (162ms)

### –£—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç:
‚úÖ CacheService (10/10 —Ç–µ—Å—Ç–æ–≤)  
‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ InventoryService —Ç–µ—Å—Ç–æ–≤  
‚úÖ System Integration Tests (—á–∞—Å—Ç–∏—á–Ω–æ)  

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
./test-quick.sh critical
```

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```bash
./test-quick.sh all
```

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
./run-tests.sh
```

### –û—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã:
```bash
NODE_ENV=test npx vitest run tests/services/inventoryService.test.ts --reporter=verbose
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ CI/CD:
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ exit –∫–æ–¥—ã
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–≤–æ–¥–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å npm test —Ä–µ—à–µ–Ω–∞  
**–î–∞—Ç–∞**: 02.07.2025  
**–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞