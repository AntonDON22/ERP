–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–¢–µ–º–∞: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π id, product_id –∏ –¥—Ä. –≤ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö ERP-—Å–∏—Å—Ç–µ–º—ã

‚∏ª

üéØ –¶–µ–ª—å:

–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ API, –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã SQL –∏–ª–∏ materialized view. –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, product_id –≤–º–µ—Å—Ç–æ id, product_name –≤–º–µ—Å—Ç–æ name –∏ —Ç.–¥.).

‚∏ª

üõ† –ó–∞–¥–∞—á–∏:

1. –ü—Ä–∏–Ω—è—Ç—å –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç:

–í–æ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö API-–æ—Ç–≤–µ—Ç–∞—Ö –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:
	‚Ä¢	id ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞
	‚Ä¢	name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
	‚Ä¢	quantity, reserved, available ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ª—è

SQL-–ø–æ–ª—è –≤—Ä–æ–¥–µ product_id, product_name, total_quantity –∏ —Ç.–¥. –¥–æ–ø—É—Å—Ç–∏–º—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏. API –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–∞–∫–∏–µ –ø–æ–ª—è –Ω–∞—Ä—É–∂—É.

‚∏ª

2. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–ù–∞ —É—Ä–æ–≤–Ω–µ backend –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ materialized view –∏–ª–∏ SQL-–∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ –≤ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç API.

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞:
	‚Ä¢	–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Å –ø–æ–ª—è–º–∏ –≤–∏–¥–∞ product_id, product_name, total_quantity, reserved_quantity, available_quantity
	‚Ä¢	–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ id, name, quantity, reserved, available

‚∏ª

3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –≤ materializedViewService.getInventoryAvailability()

–í—ã–∑–æ–≤ getInventoryAvailability() –¥–æ–ª–∂–µ–Ω –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –∫ –µ–¥–∏–Ω–æ–º—É API-—Ñ–æ—Ä–º–∞—Ç—É. –í—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞, –¥–æ–ª–∂–Ω—ã –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

‚∏ª

4. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â—É—é –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö

–ï—Å–ª–∏ –º–∞–ø–ø–∏–Ω–≥ (product_id ‚Üí id) –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ routes –∏–ª–∏ services), –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª—ë–Ω. –í—Å—ë –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

‚∏ª

5. –û–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞

–í –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ç–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ testSystem.ts) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
	‚Ä¢	–≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ /api/inventory/availability
	‚Ä¢	–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª—è id, name, quantity, reserved, available
	‚Ä¢	–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–ª—è –≤—Ä–æ–¥–µ product_id, product_name, total_quantity –∏ —Ç.–¥.

‚∏ª

üìå –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
	‚Ä¢	–í—Å–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç—Ä–æ–≥–æ –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
	‚Ä¢	–í–µ—Å—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ø–æ–ª—è–º–∏ id, name, quantity, reserved, available
	‚Ä¢	–û—à–∏–±–∫–∏ —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞
	‚Ä¢	–¢–µ—Å—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

‚∏ª

üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –¢–ó:
	‚Ä¢	–∏—Å—á–µ–∑–∞–µ—Ç –∫–ª–∞—Å—Å –ø—Ä–æ–±–ª–µ–º ‚Äú—Ç–æ id, —Ç–æ product_id‚Äù
	‚Ä¢	–∫–æ–¥ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞–¥—ë–∂–Ω—ã–º –∏ –ø—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
	‚Ä¢	—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–µ—à–µ–º, –ª–æ–≥–∏–∫–æ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º–∏